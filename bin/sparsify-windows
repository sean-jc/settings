#!/bin/bash
git config core.sparseCheckout true

echo "arch/x86/*" > .git/info/sparse-checkout
echo "drivers/acpi/*" >> .git/info/sparse-checkout
echo "drivers/platform/x86/intel_sgx/*" >> .git/info/sparse-checkout
echo "drivers/block/virtio_blk.c" >> .git/info/sparse-checkout
echo "drivers/net/virtio_net.c" >> .git/info/sparse-checkout
echo "drivers/virtio/*" >> .git/info/sparse-checkout
echo "include/*" >> .git/info/sparse-checkout
echo "lib/*" >> .git/info/sparse-checkout
echo "kernel/*" >> .git/info/sparse-checkout
echo "mm/*" >> .git/info/sparse-checkout
echo "virt/*" >> .git/info/sparse-checkout
echo "!include/uapi/linux/netfilter*" >> .git/info/sparse-checkout
echo "!include/soc/arc/aux.h" >> .git/info/sparse-checkout

git read-tree -mu HEAD